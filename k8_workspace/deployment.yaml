<html>
  <head>
    <title>Deploy Containers Using YAML | Kubernetes | Katacoda</title>
    <link rel="preload" as="style" href="/css/materialize.min.css">
<link rel="preload" as="style" href="/css/xterm.css">
<link rel="preload" as="style" href="/css/style2.css">
<link rel="preload" as="style" href="https://cdn.oreillystatic.com/assets/css/2018_font_face.css">
<link rel="preload" as="style" href="/css/orm-brand.css">
<link rel="preload" as="script" href="/js/jquery-3.5.1.min.js">
<link rel="preload" as="script" href="/js/materialize.min.js">
<link rel="preload" as="script" href="/js/application.js?v=20210817">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
<meta name="apple-mobile-web-app-capable" content="yes">

<link rel="canonical" href="https://www.katacoda.com/courses/kubernetes/creating-kubernetes-yaml-definitions" />
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-KFWGZ5J');</script>
<!-- End Google Tag Manager -->
<script type="text/javascript">window._trackJs = { token: '97f1dd886918463ebc84d187024d5aad', application: 'katacoda' };</script>
<script type="text/javascript" src="https://cdn.trackjs.com/releases/current/tracker.js"></script>
<script type="text/javascript" src="/js/vendor/webfont.js"></script>
<script type="text/javascript">
  WebFont.load({
    google: {
      families: ['Open Sans', 'Source Code Pro']
    },
    custom: {
      families: ['franklingoturwtotbooregular']
    }
  });
</script>
<link type="text/css" rel="stylesheet" href="/css/materialize.min.css"  media="screen,projection"/>
<link type="text/css" rel="stylesheet" href="/css/fontawesome.min.css"  media="screen,projection"/>
<link type="text/css" rel="stylesheet" href="/css/xterm.css" media="screen,projection" />
<link type="text/css" rel="stylesheet" href="/css/style2.css"  media="screen,projection"/>
<link type="text/css" rel="stylesheet" href="https://cdn.oreillystatic.com/assets/css/2018_font_face.css" />
<link type="text/css" rel="stylesheet" href="/css/orm-brand.css">
<meta name="description" content="Learn how to use YAML definitions to deploy containers. Learn Step 1 - Create Deployment, Step 2 - Create Service, Step 3 - Scale Deployment, via free hands on training.">
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-56533756-2', 'katacoda.com');
  ga('send', 'pageview');
</script>
<script type="text/javascript" src="/js/vendor/ldclient.min.js"></script>
<script>
    var user = {
      anonymous: true
    };

  var options = {
    privateAttributeNames: ['username', 'email'],
    useReport: true
  };

  var ldclient = LDClient.initialize('60ac1ef2d7bc970e4fcb97d4', user, options);
</script>
<meta property="og:image" content="https://www.katacoda.com/images/apple-touch-icon-152x152.png"/>
<link rel="apple-touch-icon" sizes="57x57" href="/images/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/images/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/images/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/images/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/images/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/images/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-180x180.png">
<link rel="icon" type="image/png" href="/images/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/images/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/images/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/images/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/images/manifest.json">
<link rel="shortcut icon" href="/images/favicon.ico">
<meta name="msapplication-TileColor" content="#0176c0">
<meta name="msapplication-TileImage" content="/images/mstile-144x144.png">
<meta name="msapplication-config" content="/images/browserconfig.xml">
<meta name="theme-color" content="#0176c0">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Deploy Containers Using YAML | Kubernetes | Katacoda" />
<meta name="twitter:description" content="Learn how to use YAML definitions to deploy containers. Learn Step 1 - Create Deployment, Step 2 - Create Service, Step 3 - Scale Deployment, via free hands on training." />
<meta name="twitter:image" content="https://www.katacoda.com/images/twitter-card.png" />
<meta property="og:url" content="/courses/kubernetes/creating-kubernetes-yaml-definitions" />
<meta property="og:title" content="Deploy Containers Using YAML | Kubernetes | Katacoda" />
<meta property="og:description" content="Learn how to use YAML definitions to deploy containers. Learn Step 1 - Create Deployment, Step 2 - Create Service, Step 3 - Scale Deployment, via free hands on training." />
<meta property="og:image" content="https://www.katacoda.com/images/apple-touch-icon-152x152.png" />
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "Katacoda",
  "description": "Interactive Learning and Training Platform for Software Engineers",
  "url": "https://www.katacoda.com",
  "logo": "https://www.katacoda.com/images/logo-head.png",
  "sameAs": [
    "https://www.facebook.com/katacoda",
    "https://github.com/katacoda"
  ]
}
</script>
    <link rel="preload" as="style" href="/css/vendor.css">
    <link rel="preload" as="style" href="/css/tutorial-style.css">
    <link rel="preload" as="style" href="/css/course-style.css">
    <link rel="preload" as="style" href="/css/xterm.css" />
    <link rel="preload" as="style" href="https://cdn.oreillystatic.com/assets/css/2018_font_face.css" />
    <link rel="preload" as="style" href="/css/orm-brand.css">
    <meta name="lastUpdated" content="" />
    <meta name="gitCommit" content="" />
    <link rel="stylesheet" href="/themes/default/style.min.css" />
    <link type="text/css" rel="stylesheet" href="/css/vendor.css"  media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="/css/tutorial-style.css"  media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="/css/course-style.css"  media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="/css/xterm.css" media="screen,projection" />
    <link type="text/css" rel="stylesheet" href="https://cdn.oreillystatic.com/assets/css/2018_font_face.css" />
    <link type="text/css" rel="stylesheet" href="/css/orm-brand.css">
    <script type="text/javascript" src="/js/jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="/js/vendor/jstree.min.js"></script>
  </head>

  <body class="row" style="margin-bottom: 0;height: 100%;">
    <div id="confirmation-top"></div>
    
    
    <section class="course-container ">
<header role="banner">
  <div class="content">
        <!-- start ORM header -->
        <nav role="navigation" aria-label="site sections">
          <a href="/" class="logo" title="home page"><img src="https://cdn.oreillystatic.com/images/sitewide-headers/oreilly_katacoda.svg" onerror="this.src='https://cdn.oreillystatic.com/images/sitewide-headers/oreilly_katacoda_@2x.png'; this.onerror=null;" alt="O'Reilly Katacoda home"></a>

          <button id="mobileNavButton" class="mobileNavButton mobileNavButton--collapse mobileNavButton--3dx" type="button" aria-expanded="false" aria-controls="menuList">
            <span class="mobileNavButton-box">
              <span class="mobileNavButton-inner"></span>
            </span>
          </button>


          <ul id="menuList" class="menuList mobileHidden">
            <li class="menuList-itemsP1">
              <ul>
                  <li class="menuList-item menuList-signIn"><a href="https://www.oreilly.com/online-learning/try-interactive-learning.html" target="_blank">Try O&rsquo;Reilly</a>
                  </li>
                  <li class="menuList-item menuList-tryNow"><a class="menuList-cta" href="/login">Log
                      In</a></li>


              </ul>
            </li>
            <li class="menuList-itemsP2">
              <ul>
                <li class="menuList-item course-header-only"><a id="author-info">Scenario Authoring Information</a></li>
                <li class="menuList-item course-header-only"><a href="/">Katacoda Overview &amp; Solutions</a></li>
                <li class="menuList-item hide-on-course"><a href="/learn">Learn</a>
                </li>
                <li class="menuList-item hide-on-course"><a href="/create">Create</a>
                </li>
              </ul>
            </li>
          </ul>
        </nav>
        <!-- end ORM header -->
  </div>
</header><section id="maincontent">
  <section id="terminal-wait"></section>
<section id="intro" class="col no-padding m9 s12 z-depth-1 " data-course-data="
  alias ssh=&#x27;ssh -o BatchMode=yes -o TCPKeepAlive=yes -o ServerAliveInterval=30 -o ServerAliveCountMax=30 -o ConnectTimeout=30 -o ConnectionAttempts=30 -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o LogLevel=quiet&#x27;
  alias scp=&#x27;scp -o BatchMode=yes -o TCPKeepAlive=yes -o ServerAliveInterval=30 -o ServerAliveCountMax=30 -o ConnectTimeout=30 -o ConnectionAttempts=30 -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -o LogLevel=quiet&#x27;
  echo &amp;#39;minikube start --wait=false&amp;#39; &amp;gt;&amp;gt; ~/.bin/launch.sh
echo &amp;#39;echo &amp;quot;Waiting for Kubernetes to start...&amp;quot;&amp;#39; &amp;gt;&amp;gt; ~/.bin/launch.sh
echo &amp;#39;until $(kubectl cluster-info &amp;amp;&amp;gt; /dev/null); do&amp;#39; &amp;gt;&amp;gt; ~/.bin/launch.sh
echo &amp;#39;  sleep 1&amp;#39; &amp;gt;&amp;gt; ~/.bin/launch.sh
echo &amp;#39;done&amp;#39; &amp;gt;&amp;gt; ~/.bin/launch.sh
echo &amp;#39;echo &amp;quot;Kubernetes started&amp;quot;&amp;#39; &amp;gt;&amp;gt; ~/.bin/launch.sh
chmod +x ~/.bin/launch.sh

" data-code="minikube start --wait=false

">
  <div class="header banner">
    
    <h1 class="header center-on-small-only">Welcome!</h1>
    <h4 class="light center-on-small-only">Deploy Containers Using YAML</h4>
  </div>
  <div class="row no-margin">
    <div class="col s12">

      <div id="course-details" class="row">
          <div class="col s12 m6">
            <i class="fa fa-star"></i>
            <span class="key">Difficulty:</span>
            <span class="value">beginner</span>
          </div>
          <div class="col s12 m6">
            <i class="fa fa-clock"></i>
            <span class="key">Estimated Time:</span>
            <span class="value">10-15 minutes</span>
          </div>
      </div>

      <html><head></head><body><p>In this scenario, you&apos;ll learn how to use Kubectl to create and launch Deployments, Replication Controllers and expose them via Services by writing <em>yaml</em> definitions.</p>
<p>YAML definitions define the Kubernetes Objects that become scheduled for deployment. The objects can be updated and redeployed to the cluster to change the configuration. </p>
</body></html>

    </div>
    <div class="col s12">
      <div class="right">
        <button id="hide-intro" class="btn primary-btn">Start Scenario</button>
      </div>
    </div>
  </div>
</section>
<section id="finished" class="col no-padding m9 s12 z-depth-1">
    <div class="header banner">
      
      <h1 class="header center-on-small-only">Congratulations!</h1>
      <h4 class="light center-on-small-only">You've completed the scenario!</h4>
      <i id="hide-finish" class="fa fa-times"></i>
      <div id="rating">
        <h6>Scenario Rating</h6>
        <fieldset class="rating">
          <input type="radio" id="star5" name="rating" value="5" /><label class = "full" for="star5" title="Awesome - 5 stars"></label>
          <input type="radio" id="star4" name="rating" value="4" /><label class = "full" for="star4" title="Pretty Good - 4 stars"></label>
          <input type="radio" id="star3" name="rating" value="3" /><label class = "full" for="star3" title="OK - 3 stars"></label>
          <input type="radio" id="star2" name="rating" value="2" /><label class = "full" for="star2" title="Bad - 2 stars"></label>
          <input type="radio" id="star1" name="rating" value="1" /><label class = "full" for="star1" title="Serious Problems - 1 star"></label>
        </fieldset>
      </div>
    </div>
    <div id="finished-content" class="row no-margin">
      <div id="course-finished-text" class="col s12">
        <p></p>
            <div class="social-share row">
              <div class=" col s4">
                <a class="social linkedin">
                  <i class="fa fa-linkedin"></i>
                  <div class="">Share Your Success</div>
                </a>
              </div>
              <div class="col s4">
                <a class="social twitter">
                  <i class="fa fa-twitter"></i>
                  <div class="">Share Your Success</div>
                </a>
              </div>
              <div class=" col s4">
                <a class="social facebook">
                  <i class="fa fa-facebook"></i>
                  <div class="">Share Your Success</div>
                </a>
              </div>
            </div>
      </div>

      <div id="download-started" class="col s12 hidden">
          <p>Your environment is currently being packaged as a Docker container and the download will begin shortly. To run the image locally, once Docker has been installed, use the commands</p>
          <pre><code>cat scrapbook_kubernetes_creating-kubernetes-yaml-definitions_container.tar | docker load</code></pre>
          <pre><code>docker run -it /kubernetes_creating-kubernetes-yaml-definitions:20210824</code></pre>
      </div>
      <div id="download-not-supported" class="col s12 hidden">
        <p>Oops!! Sorry, it looks like this scenario doesn't currently support downloads. We'll fix that shortly.</p>
      </div>
      <div class="col s12" style="margin-top: 20px;">
        <div class="col m6 s12">
              &nbsp;
              <a href="#" id="reload" class="btn secondary-btn">Restart Scenario</a>
        </div>
        <div class="col m6 s12">
          <div class="right">
                  <a href="/courses/kubernetes" id="next-tutorial" class="btn primary-btn">Next Scenario</a>
          </div>
        </div>
      </div>
    </div>
</section>  
<section id="tutorial" class="col m4 s12 side-tutorial">

  <div id="tutorial-resizer"></div>
  <div id="tutorial-resized" class="hidden">
    <img src="/images/icons/do.png" alt="Interactive Labs">
    <h3>Steps</h3>
  </div>
  <div id="course-title" class="">
    <h3>
      Deploy Containers Using YAML
    </h3>
  </div>

  <div id="step-progress" class="" data-steps="3">
    <i class="fa fa-caret-left" style="color: #0000"></i>
    <span id="step-progress-text"><span id="step-progress-name">Step</span> <span class="current">1</span> of <span class="total">3</span></span>
    <i class="fa fa-caret-right"></i>
  </div>
    <div id="step-1" class="step " data-id="1" data-code="" data-course-data="" data-verify="">
        <h4>Step 1 - Create Deployment</h4>
      <div class="content">
        <html><head></head><body><p>One of the most common Kubernetes object is the deployment object. The deployment object defines the container spec required, along with the name and labels used by other parts of Kubernetes to discover and connect to the application.</p>
<h2 id="task">Task</h2>
<p>Copy the following definition to the editor. The definition defines how to launch an application called <em>webapp1</em> using the Docker Image <em>katacoda/docker-http-server</em> that runs on Port 80.</p>
<pre class="file" data-filename="deployment.yaml" data-target="replace">apiVersion: apps/v1
kind: Deployment
metadata:
  name: webapp1
spec:
  replicas: 1
  selector:
    matchLabels:
      app: webapp1
  template:
    metadata:
      labels:
        app: webapp1
    spec:
      containers:
      - name: webapp1
        image: katacoda/docker-http-server:latest
        ports:
        - containerPort: 80
</pre>

<p>This is deployed to the cluster with the command <code class="execute">kubectl create -f deployment.yaml</code></p>
<p>As it&apos;s a Deployment object, a list of all the deployed objects can be obtained via <code class="execute">kubectl get deployment</code></p>
<p>Details of individual deployments can be outputted with <code class="execute">kubectl describe deployment webapp1</code></p>
</body></html>
      </div>

      <div class="row">

          <button class="col s12 l5 btn primary-btn next right"
                    data-position="top" data-delay="50" data-tooltip="Please complete the task before proceeding"
                  >
            Continue
          </button>
      </div>
    </div>
    <div id="step-2" class="step hidden" data-id="2" data-code="" data-course-data="" data-verify="">
        <h4>Step 2 - Create Service</h4>
      <div class="content">
        <html><head></head><body><p>Kubernetes has powerful networking capabilities that control how applications communicate. These networking configurations can also be controlled via YAML.</p>
<h2 id="task">Task</h2>
<p>Copy the Service definition to the editor. The Service selects all applications with the label <em>webapp1</em>. As multiple replicas, or instances, are deployed, they will be automatically load balanced based on this common label. The Service makes the application available via a NodePort.</p>
<pre class="file" data-filename="service.yaml" data-target="replace">apiVersion: v1
kind: Service
metadata:
  name: webapp1-svc
  labels:
    app: webapp1
spec:
  type: NodePort
  ports:
  - port: 80
    nodePort: 30080
  selector:
    app: webapp1
</pre>

<p>All Kubernetes objects are deployed in a consistent way using <em>kubectl</em>.</p>
<p>Deploy the Service with <code class="execute">kubectl create -f service.yaml</code></p>
<p>As before, details of all the Service objects deployed with <code class="execute">kubectl get svc</code>. By describing the object it&apos;s possible to discover more details about the configuration <code class="execute">kubectl describe svc webapp1-svc</code>.</p>
<p><code class="execute">curl host01:30080</code></p>
</body></html>
      </div>

      <div class="row">

          <button class="col s12 l5 btn primary-btn next right"
                    data-position="top" data-delay="50" data-tooltip="Please complete the task before proceeding"
                  >
            Continue
          </button>
      </div>
    </div>
    <div id="step-3" class="step hidden" data-id="3" data-code="" data-course-data="" data-verify="">
        <h4>Step 3 - Scale Deployment</h4>
      <div class="content">
        <html><head></head><body><p>Details of the YAML can be changed as different configurations are required for deployment. This follows an infrastructure as code mindset. The manifests should be kept under source control and used to ensure that the configuration in production matches the configuration in source control.</p>
<h2 id="task">Task</h2>
<p>Update the <em>deployment.yaml</em> file to increase the number of instances running. For example, the file should look like this:</p>
<pre class="file">replicas: 4
</pre>

<p>Updates to existing definitions are applied using <em>kubectl apply</em>. To scale the number of replicas, deploy the updated YAML file using <code class="execute">kubectl apply -f deployment.yaml</code></p>
<p>Instantly, the desired state of our cluster has been updated, viewable with <code class="execute">kubectl get deployment</code></p>
<p>Additional Pods will be scheduled to match the request. <code class="execute">kubectl get pods</code></p>
<p>As all the Pods have the same label selector, they&apos;ll be load balanced behind the Service NodePort deployed.</p>
<p>Issuing requests to the port will result in different containers processing the request <code class="execute">curl host01:30080</code></p>
<p>Additional Kubernetes Networking details and Object Definitions will will be covered in future scenarios.</p>
</body></html>
      </div>

      <div class="row">

            <button class="col s12 l5 btn primary-btn next right"
                      data-position="top" data-delay="50" data-tooltip="Please complete the task before proceeding"
                    >
              Continue
            </button>
      </div>
    </div>


</section>

    <section id="split-host" class="col m8 s12 no-padding">
      <div class="split editor-split" style="height: 50%;">
        <div id="course_ide">
          <link rel="stylesheet" href="/themes/default/style.min.css" />
<script src="/js/vendor/jstree.min.js"></script>
<section>
  <section class="col s2 no-padding " id="jstree-container">
    <div class="tabbar dropzone">
      <div class="ktabs">
        <div class="ktab draggable kfilebrowsertab kfilebrowsertab-open">
          <i class="fa fa-folder-open tooltipped" title="Close Tree" data-position="bottom" data-tooltip="Close Tree"></i>
          <i class="fa fa-sync tooltipped" title="Refresh" data-position="bottom" data-tooltip="Refresh Tree"></i>
          <i class="fa fa-angle-double-down tooltipped" title="Expand All" data-position="bottom" data-tooltip="Expand All"></i>
          <i class="fa fa-angle-double-up hidden tooltipped" title="Collapse All" data-position="bottom" data-tooltip="Collapse All"></i>
        </div>
      </div>
    </div>
    <div id="jstree">
    </div>
  </section>
  <div class="col s10 no-padding" id="editor">
    <div class="tabbar dropzone">
      <div class="ktabs">
        <div class="ktab draggable kfilebrowsertab hidden kfilebrowsertab-closed">
          <i class="fa fa-folder"></i>
        </div>
          <div class="ktab draggable active kfiletab" data-path="./deployment.yaml" data-filename="deployment.yaml" data-view-id="#file0">deployment.yaml <a href="#" class="tab-progress hidden"><i class="fa-li fa fa-spinner fa-spin"></i></a><a href="#" class="close-tab hidden"><i class="fa fa-times"></i></a></div>
          <div class="ktab draggable  kfiletab" data-path="./service.yaml" data-filename="service.yaml" data-view-id="#file1">service.yaml <a href="#" class="tab-progress hidden"><i class="fa-li fa fa-spinner fa-spin"></i></a><a href="#" class="close-tab hidden"><i class="fa fa-times"></i></a></div>
      </div>
    </div>
      <section id="file0" class="col s12 ace-editor " data-path="deployment.yaml" data-filename="deployment.yaml">
</section>
<section class="file-loading-progress hidden" id="progress-file0">
  <h1>Opening...</h1>

  <div class="preloader-wrapper big active">
    <div class="spinner-layer">
      <div class="circle-clipper left">
        <div class="circle"></div>
      </div><div class="gap-patch">
        <div class="circle"></div>
      </div><div class="circle-clipper right">
        <div class="circle"></div>
      </div>
    </div>
</section>
      <section id="file1" class="col s12 ace-editor " data-path="service.yaml" data-filename="service.yaml">
</section>
<section class="file-loading-progress hidden" id="progress-file1">
  <h1>Opening...</h1>

  <div class="preloader-wrapper big active">
    <div class="spinner-layer">
      <div class="circle-clipper left">
        <div class="circle"></div>
      </div><div class="gap-patch">
        <div class="circle"></div>
      </div><div class="circle-clipper right">
        <div class="circle"></div>
      </div>
    </div>
</section>
  </div>

</section>
<script>
  var j = [
      {
          id: 1, state: {opened: true },
          text: './',
          children: [
              { id: 'n0', icon: 'jstree-file', text: 'file' },
              {
                  id: 'n1',
                  text: 'test/',
                  children: [
                      {
                          id: 'n2',
                          text: 'test2/',
                          children: [
                              {
                                  id: 'n3',
                                  text: 'test3/',
                                  children: []
                              }
                          ]
                      },
                      { id: 'n4', icon: 'jstree-file', text: 'file1' }
                  ]
              }
          ]
      }
  ];
</script>
        </div>
      </div>
      <div id="terminal-resizer"></div>
      <div class="split" style="height: 50%;">
        <div class="tabbar dropzone">
          <div class="ktabs">
              <div class="ktab draggable  active" data-view-id="terminal" data-port="" data-host="" data-src="">Terminal <a href="" class="close-tab hidden"><i class="fa fa-times"></i></a></div>
                                  </div>
          <div class="controls">
  <a class="dropdown-button tooltipped"
    data-target='webpreview-dropdown-terminal'
    data-position="left" data-delay="50" data-tooltip="Web Preview">
    <i class="fa fa-plus"></i>
  </a>
  <div class="settings-link">
    <a id="poweroff" class="hidden tooltipped" data-tooltip="Shutdown Cluster">
      <i class="fa fa-power-off white-text"></i>
    </a>
    <a id="fullscreen" class="tooltipped" data-tooltip="Fullscreen">
      <i class="fa fa-expand-arrows-alt white-text"></i>
    </a>
    <a class="dropdown-button tooltipped"
      data-target='settings-dropdown-terminal'
      data-position="left" data-delay="50" data-tooltip="Settings">
      <i class="fa fa-cog white-text"></i>
    </a>
  </div>
</div>

<ul id='webpreview-dropdown-terminal' class='dropdown-content webpreview-dropdown'>
</ul>

<ul id='settings-dropdown-terminal' class='dropdown-content settings-dropdown'>
  <li><a href="" id="presentation-mode">Presentation Mode <span class="tick">&#10004;</span></a></li>
  <li><a href="" id="light-colour-schema">Light Color Scheme <span class="tick">&#10004;</span></a></li>
  <li><a href="" id="debug">Debug</a></li>
</ul>
        </div>
        <section id="terminal" data-host="HOST1" class="terminal-container ">
</section>
      </div>
    </section>
  </section>
</section>

<div id="help-modal" class="modal modal-fixed-footer">
  <div class="modal-content">
    <h4>Help</h4>
    <p>Katacoda offerings an Interactive Learning Environment for Developers. This course uses a command line and a pre-configured sandboxed environment for you to use. Below are useful commands when working with the environment.</p>
    <table class="cmds">
    	<tr><td class="cmd">cd &lt;directory&gt;</td><td>Change directory</td></tr>
    	<tr><td class="cmd">ls</td><td>List directory</td></tr>
      <tr><td class="cmd">echo 'contents' > &lt;file&gt;</td><td>Write contents to a file</td></tr>
      <tr><td class="cmd">cat &lt;file&gt;</td><td>Output contents of file</td></tr>
    </table>

    <h5>Vim</h5>
    <p>In the case of certain exercises you will be required to edit files or text. The best approach is with Vim. Vim has two different modes, one for entering commands (Command Mode) and the other for entering text (Insert Mode). You need to switch between these two modes based on what you want to do. The basic commands are:</p>
    <table class="cmds">
    	<tr><td class="cmd">i</td><td>In Command Mode</td><td>Change into Insert Mode, you can now insert and edit text in the file</td></tr>
    	<tr><td class="cmd">esc</td><td>In Insert Mode</td><td>Change into Command Mode, you can now execute commands</td></tr>
    	<tr><td class="cmd">:wq</td><td>In Command Mode</td><td>Save and Exit</td></tr>
    </table>
  </div>
  <div class="modal-footer right">
    <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Got It</a>
  </div>
</div>

  <script type="text/javascript" src="/socket.io/socket.io.js?v=20210817"></script>
  <script type="text/javascript" src="/javascripts/term.js?v=20210817"></script>
  <script type="text/javascript" src="/js/vendor/ace/ace.js?v=20210817"></script>
  <script type="text/javascript" src="/js/editor.js?v=20210817"></script>
  <script type="text/javascript" src="/javascripts/terminal-application.js?v=20210817"></script>
  <script type="text/javascript" src="/javascripts/editor-terminal-application.js?v=20210817"></script>
  <script type="text/javascript" src="/javascripts/sync-editor-to-container.js?v=20210817"></script>

<script>
  window.on_page_load = function() {

    course = new CourseApplication();
    course.init(window.app, {"paid":false}, {"id":"creating-kubernetes-yaml-definitions","pathwayId":"kubernetes","pathwayTitle":"Kubernetes","authenticated":false,"title":"Deploy Containers Using YAML","files":["deployment.yaml","service.yaml"],"environment":{"uilayout":"editor-terminal-v1","uimessage1":"\u001b[32mYour Interactive Bash Terminal. A safe place to learn and execute commands.\u001b[m\r\n","uidependencies":["/socket.io/socket.io.js","/javascripts/term.js","/js/vendor/ace/ace.js","/js/editor.js","/javascripts/terminal-application.js","/javascripts/editor-terminal-application.js","/javascripts/sync-editor-to-container.js"]},"backend":{"trainingid":"kubeadm-cluster2","dockerimage":"minikube"}});

    course.view = new EditorTerminalTreeView();
    course.view.init();

  };
</script>

    <div id="privacyModal" class="modal">
    <div class="modal-content" style="padding-bottom: 0;">
        <p style="margin:0;">This content is private and can only be viewed by you and members of your org. <a
                href='https://www.katacoda.community/scenario-syntax.html#understanding-katacoda-s-index-json'>See
                Details</a></p>
    </div>
    <div class="modal-footer">
        <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">Close</a>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        $('.modal').modal({
            dismissible: true
        });
    });
</script>    <div id="registration-modal" class="katacoda-modal modal col m6 offset-m3 s10 offset-s1">
  <div id="signup" class="">
    <div id="auth-dialog" class="col s12 m7">
      <form method="POST" action="/signup">
        <input id="info" name="info" type="text" />
        <input name="redirect" type="hidden" value="" />
        <h2 class="">Welcome! Connect to start</h2>
        <div class="social-logins row">
          <div class=" col s6">
            <a class="social github" href="/auth/github">
              <i class="fa fa-github"></i>
              <div class="">Sign Up with Github</div>
            </a>
          </div>
          <div class=" col s6">
            <a class="social linkedin" href="/auth/linkedin">
              <i class="fa fa-linkedin"></i>
              <div class="">Sign Up with Linkedin</div>
            </a>
          </div>
          <div class="col s6">
            <a class="social twitter" href="/auth/twitter">
              <i class="fa fa-twitter"></i>
              <div class="">Sign Up with Twitter</div>
            </a>
          </div>
          <div class=" col s6">
            <a class="social google" href="/auth/google">
              <i class="fa fa-google"></i>
              <div class="">Sign Up with Google</div>
            </a>
          </div>
        </div>
        <h2 class="">...or sign up using your email</h2>
        <h2 class="hidden">Sign up using your email</h2>
        <div class="form-contents">
          <p class="error red-text center"></p>
          <div class="">
            <label for="email">Email Address</label>
            <input id="email" name="email" type="text" />
          </div>
          <div class="">
            <label for="password">Password</label>
            <input id="password" name="password" type="password" />
          </div>
          <div class="actions">
            <input type="hidden" id="g-recaptcha-version" name="g-recaptcha-version" />
            <textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px;height: 40px;border: 1px solid rgb(193, 193, 193);margin: 10px 25px;padding: 0px; resize: none; display: none;"></textarea>
            <button type="submit" class="btn primary-btn">Sign Up For Free</button>
            <a class="login" href="/login">Already have an account? Log in here</a>
          </div>
        </div>
      </form>
    </div>
    <div id="auth-why" class="col s12 m5">
      <h2>You’ll love Katacoda</h2>
      <div class="how-guides">
        <div class="how-guide row">
          <div class="col s4">
            <img src="/images/icons/guided.png" alt="Guided Learning Pathway" />
          </div>
          <div class="col s8">
            <h4>Guided Path</h4>
            <p>
              Knowing what you need to know is the hardest part. Our guided pathways help build your knowledge around real-world scenarios.
            </p>
          </div>
        </div>
        <div class="how-guide row">
          <div class="col s4">
            <img src="/images/icons/do.png" alt="Interactive Labs" />
          </div>
          <div class="col s8">
            <h4>Learn By Doing</h4>
            <p>
              The best way to learn is by doing. All our tutorials are interactive with pre-configured live environments ready for you to use.
            </p>
          </div>
        </div>
        <div class="how-guide row">
          <div class="col s4">
            <img src="/images/icons/done.png" alt="Stay up-to-date" />
          </div>
          <div class="col s8">
            <h4>Stay up-to-date</h4>
            <p>
              It's a competitive industry. Your skills need to keep up with the latest approaches. Katacoda keeps your skills up-to-date.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="login" class="hidden">
    <div id="auth-dialog" class="col s12 m7">
      <form method="POST" action="/login">
        <input name="redirect" type="hidden" value="" />
        <h2 class="">Welcome back! Connect to start</h2>
        <div class="social-logins row">
          <div class=" col s6">
            <a class="social github" href="/auth/github">
              <i class="fa fa-github"></i>
              <div class="">Log In with Github</div>
            </a>
          </div>
          <div class=" col s6">
            <a class="social linkedin" href="/auth/linkedin">
              <i class="fa fa-linkedin"></i>
              <div class="">Log In with Linkedin</div>
            </a>
          </div>
          <div class="col s6">
            <a class="social twitter" href="/auth/twitter">
              <i class="fa fa-twitter"></i>
              <div class="">Log In with Twitter</div>
            </a>
          </div>
          <div class=" col s6">
            <a class="social google" href="/auth/google">
              <i class="fa fa-google"></i>
              <div class="">Log In with Google</div>
            </a>
          </div>
        </div>
        <h2 class="">...or log in using your email</h2>
        <h2 class="hidden">Log in using your email</h2>
        <div class="form-contents">
          <p class="error red-text center"></p>
          <div class="">
            <label for="email">Email Address</label>
            <input id="email" name="email" type="text" />
          </div>
          <div class="">
            <label for="password">Password</label>
            <input id="password" name="password" type="password" />
          </div>
          <div class="actions">
            <button class="btn primary-btn">Login</button>
             <a class="forgot" href="/forgot">Forgot password?</a>
             <a class="signup right" href="/signup">Create a new account here.</a>
          </div>
        </div>
      </form>
    </div>
    <div id="auth-why" class="col s12 m5">
      <h2>You’ll love Katacoda</h2>
      <div class="how-guides">
        <div class="how-guide row">
          <div class="col s4">
            <img src="/images/icons/guided.png" alt="Guided Learning Pathway" />
          </div>
          <div class="col s8">
            <h4>Guided Path</h4>
            <p>
              Knowing what you need to know is the hardest part. Our guided pathways help build your knowledge around real-world scenarios.
            </p>
          </div>
        </div>
        <div class="how-guide row">
          <div class="col s4">
            <img src="/images/icons/do.png" alt="Interactive Labs" />
          </div>
          <div class="col s8">
            <h4>Learn By Doing</h4>
            <p>
              The best way to learn is by doing. All our tutorials are interactive with pre-configured live environments ready for you to use.
            </p>
          </div>
        </div>
        <div class="how-guide row">
          <div class="col s4">
            <img src="/images/icons/done.png" alt="Stay up-to-date" />
          </div>
          <div class="col s8">
            <h4>Stay up-to-date</h4>
            <p>
              It's a competitive industry. Your skills need to keep up with the latest approaches. Katacoda keeps your skills up-to-date.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div id="restricted-modal" class="katacoda-modal modal col m6 offset-m3 s10 offset-s1">
  <div id="signup" class="">
    <div class="auth-dialog col s12">
      <form method="POST" action="/auth/restricted">
        <input id="info" name="info" type="text" />
        <input name="type" type="hidden" value="email" />
        <h2 class="">Welcome! Enter your email address to connect</h2>
        <div class="form-contents">
          <p class="error red-text center"></p>
          <div class="">
            <label for="email">Email Address</label>
            <input id="email" name="email" type="text" />
          </div>
          <div class="actions">
            <button type="submit" class="btn primary-btn">Connect</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>


<script>
  var modal_init = function() {
    var context = $("#registration-modal");
    var selectors = {
      context: context,
      login: $("#login", context),
      signup: $("#signup", context),
      display_login: $('a.login', context),
      display_signup: $('a.signup', context)
    }

    new RegistrationModal().init(selectors);
  };
</script>

    <div data-html2canvas-ignore="true" id="report-problem-model" class="modal col m6 offset-m3 s10 offset-s1">
      <div class="right">
        <a id="hide-report-problem-model" href="#">
          <i class="fa fa-times"></i>
        </a>
      </div>
      <div class="">
        <h1 class="center">😺</h1>
        <h2>Have some feedback for us? Please tell us what's happening so we can improve Katacoda.</h2>
        <div class="">
          <textarea name="name" id="feedback-contents" rows="16" cols="80"></textarea>
        </div>
        <div class="hidden">
          <input type="checkbox" name="screenshot" value="screenshot" id="screenshot"><label for="screenshot">Send HTML Canvas as Screenshot. This will help us debug potential issues.</label>
        </div>
        <div class="">
          <button type="button" name="button" class="btn small-btn primary-btn center">Send Feedback</button>
        </div>

      </div>
    </div>

    <section id="authoring_information" class="modal">
  <div class="modal-content">

    <div style="
    text-align: center;
    font-weight: 900;
    padding: 20px;
    background: aliceblue;
    margin: 0;
    width: 100%;
">
      This will not be visible to users and provides only information to help authors when creating content.
    </div>

    <h2>Creating Katacoda Scenarios</h2>
    <p>Thanks for creating Katacoda scenarios. This is designed to help you as an author have quick access the
      information you need when creating scenarios.</p>

    <p>Here are some useful links to get you started.</p>
    <ul>
      <li><a href="https://github.com/katacoda/scenario-examples" target="_blank">https://github.com/katacoda/scenario-examples</a></li>
      <li><a href="https://katacoda.community" target="_blank">https://katacoda.community</a></li>
      <li><a href="http://dashboard.katacoda.com/" target="_blank">http://dashboard.katacoda.com/</a></li>
    </ul>

    <h3>Debugging Scenarios</h3>
    <p>Below is the response from any background scripts run or files uploaded. This stream can aid debugging scenarios.
    </p>
    <h3>Tips</h3>
    <p>If you see "ssh: Could not resolve hostname host01: Name or service not known", then this is safe to ignore.</p>
    <code class="debug"></code>
  </div>
  <div class="modal-footer">
    <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">OK</a>
  </div>
</section>
    <div id="debug-model" class="modal">
      <div class="modal-content">
        <h4>Debug Information</h4>
        <p id="debug-info"></p>
      </div>
      <div class="modal-footer">
        <a href="#!" class="modal-action modal-close waves-effect waves-green btn-flat">OK</a>
      </div>
    </div>

    <script type="text/javascript" src="/js/materialize.min.js"></script>
    <script type="text/javascript" src="/js/vendor/handlebars.runtime-v4.0.5.js"></script>
    <script type="text/javascript" src="/js/templates.js"></script>

    <script type="text/javascript" src="/js/application.js?v=20210817"></script>
    <script type="text/javascript" src="/js/vendor/html2canvas.js" async defer></script>

    <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback"></script>
    <div class="g-recaptcha" style="display: none" data-badge="inline" data-sitekey="6LcuVhgUAAAAAMCgjmRjhfoTXoTAOVNoJlSRs0tI" data-callback="onSubmit" data-size="invisible"></div>

    <script type="text/javascript">
      // The page was accessed by navigating into the history.
      var TYPE_BACK_FORWARD = 2;
      if(performance && performance.navigation.type == TYPE_BACK_FORWARD){
        location.reload(true);
      }
      window.grecaptchaToken = 'skip';
      var app;
      $(document).ready(function() {
        if(performance && performance.navigation.type == TYPE_BACK_FORWARD){
          location.reload(true);
          return;
        }

        app = new App();
        
        app.init();
        app.stripe = {
          publish_key: 'pk_live_fGt75qCtGfvQn73mpo5YCwca'
        }
      });

      var reportProblem = $("#report-problem");
      var reportProblemModal = $('#report-problem-model');
      reportProblem.click(function() {
        reportProblemModal.modal({dismissible: true, opacity: .8, top: '5%'}).modal('open');
      });

      var authorInfo = $("#author-info");
      var authorInfoModal = $('#authoring_information');
      authorInfo.click(function() {
        authorInfoModal.modal({dismissible: true, opacity: .8, top: '5%'}).modal('open');
      });

      $("#hide-report-problem-model", reportProblemModal).click(function() {
        reportProblemModal.modal('close');
      });
      $("button", reportProblemModal).click(function() {
        var b = $(this);
        if(b.text() === "Sending...")
          return;

        
        var feedback = $("#feedback-contents", reportProblemModal).val();
        if(feedback === "")
          return;

        b.text("Sending...");
        var includeScreenshot = $("#screenshot", reportProblemModal);

        var katacodaHost = ''
        if (window.course && window.course.view && window.course.view.project && window.course.view.project.katacodaHost) {
          katacodaHost = window.course.view.project.katacodaHost;
        }

        if(includeScreenshot.is(':checked')) {
          screenshot(function(err, jpg) {
            $.ajax({
              url: 'feedback',
              type: 'POST',
              data: {screenshot: jpg, feedback: feedback, url: window.location.href, katacodaHost: katacodaHost},
              success: function() {
                reportProblemModal.modal('close');
                $("#feedback-contents", reportProblemModal).val("");
                b.text("Send");
                window.show_confirmation("Thank you for your feedback!");
              },
              error: function() {
                $.ajax({
                  url: 'feedback',
                  type: 'POST',
                  data: {feedback: feedback, url: window.location.href, katacodaHost: katacodaHost},
                  success: function() {
                    reportProblemModal.modal('close');
                    $("#feedback-contents", reportProblemModal).val("");
                    b.text("Send");
                    window.show_confirmation("Thank you for your feedback!");
                  }
                })
              }
            })
          })
        } else {
          $.ajax({
            url: 'feedback',
            type: 'POST',
            data: {feedback: feedback, url: window.location.href, katacodaHost: katacodaHost},
            success: function() {
              reportProblemModal.modal('close');
              $("#feedback-contents", reportProblemModal).val("");
              b.text("Send");
              window.show_confirmation("Thank you for your feedback!");
            }
          })
        }
      });

      var screenshot = function(cb) {
        $("#finished").addClass('hidden');
        html2canvas(document.body, {
          onrendered: function(canvas) {
            $("#finished").addClass('hidden');
            var jpg = canvas.toDataURL("image/png");
            cb(null, jpg);
          }
        });
      }
      
      window._csrf = '8GEHPOPN-sqaNuPMkGYxnD0oCjJo1YbR4jUE';
      window.nonce = '2XFSTkYd%2BAub4ZPmOaLrHSC7U1%2BQr2WWIodNdQWFyjA%3D';
      window.session = '23076520';
      
      window.on_application_load = function(app) {
        if (window.trackJs) {
          trackJs.addMetadata("region", 'asia');
          trackJs.addMetadata("deployment", 'katacoda');
        }
        window.region = 'asia';
        window.originalPathwayId = '';

        modal_init();

        if(typeof mermaid !== 'undefined' && mermaid.initialize){ 
          mermaid.initialize({
              startOnLoad:true,
              flowchart: { 
                curve: 'basis' 
              }
          });  
        }
      }
    </script>
    <script type="text/javascript" src="/javascripts/orm-menu.js"></script>
  </body>
</html>
